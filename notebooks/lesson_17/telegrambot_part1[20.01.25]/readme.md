# СОЗДАНИЕ TELEGRAM БОТА - ЧАСТЬ 1

1. Считаем, что из предыдущего занятия у вас установлен Python, редактор VS Code, проект размещен
в каталоге webservise.
2. Открываем в редакторе проект webservice.
3. Входим в терминал и запускаем виртуальное окружение:
	.venv\Scripts\activate
4. Установим библиотеку для работы с Telegram:
	- в файле requirements.txt добавьте с новой строки 
		python-telegram-bot==21.20
	- в терминале выполните установку:
		python.exe -m pip install --upgrade pip
		pip install -r requirements.txt
5. Создайте папку telegram в папке webservice, в ней будет размещен наш проект Телеграм-бота.		
6. Создадим Телеграм-бота в приложении "Telegram":
	- найдите бота @BotFather
	- введите команду /newbot
	- введите имя бота - произвольное имя, допускаются русские символы и пробелы
	- введите адрес бота - только английские символы без пробелов, должен заканчиваться на bot
	- скопируйте токен, например:
		8152616519:AAE0dSnwnFNRBmFhEdSsQs0qnvhLUIxdpik
7. Возвращаемся в проект. Создайте файл telegram/.env, в котором укажите токен вашего Телеграм бота:
	TG_TOKEN = 8152616519:AAE0dSnwnFNRBmFhEdSsQs0qnvhLUIxdpik
8. Перейдите в папку webservice\telegram:
	cd telegram	
9. Документацию по телеграм-боту вы можете посмотреть на официальном сайте:
	https://docs.python-telegram-bot.org/en/stable/index.html

## Файл first.py

1. Создайте файл first.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python first.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. В телеграм-клиенте нажмите "Старт" или введите команду /start, бот должен ответить:
	Привет! Это пример простого бота.
6. Вернитесь в проект и в терминале нажмите комбинацию кнопок на клавиатуре CTRL + C
7. В терминале должна появиться надпись:
	Бот остановлен
	
## Файл handlers.py

1. Создайте файл handlers.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python handlers.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. В телеграм-клиенте:
	- введите команду /help, бот должен справку
	- введите команду /start, бот выведет сообщение "Привет! Это пример простого бота."
	- отправьте текстовое сообщение, бот выведет "Мы получили от тебя текстовое сообщение!"
	- загрузите катинку, бот выведет "Мы получили от тебя фотографию!"
	- введите голосовое, бот выведет "Мы получили от тебя голосовое соообщение!"
6. Вернитесь в проект и в терминале нажмите комбинацию кнопок на клавиатуре CTRL + C
7. В терминале должна появиться надпись:
	Бот остановлен

## Файл update.py

1. Создайте файл update.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python update.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. В телеграм-клиенте отправьте текстовое сообщение:
	- бот ответит "Ваш запрос обрабатывается..."
	- через 3 секунды "Обработка завершена"
6. Вернитесь в проект и в терминале посмотрите структуру объекта update.
7. Нажмите комбинацию кнопок на клавиатуре CTRL + C
8. В терминале должна появиться надпись:
	Бот остановлен	
	
## Файл context.py

1. Создайте файл context.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python context.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. В телеграм-клиенте отправьте текстовое сообщение:
	- бот ответит "Ваш запрос обрабатывается..."
	- через 3 секунды "Сообщение 1 обработано"
	- бот так же закрепит ваше сообщение
	- при повторном обращении появится "Сообщение 2 обработано"
	- и т.д.
6. Открепите прикрепленные сообщения.
7. Перейдите в терминал. Нажмите комбинацию кнопок на клавиатуре CTRL + C
8. В терминале должна появиться надпись:
	Бот остановлен		

## Файл inline.py

1. Создайте файл inline.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python inline.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. В телеграм-клиенте введите /start, появится inline-клавиатура.
6. Попробуйте последовательно нажать кнопки:
	- "Новая задача"
	- "История"
	- "Документация"
7. Перейдите в терминал. Нажмите комбинацию кнопок на клавиатуре CTRL + C
8. В терминале должна появиться надпись:
	Бот остановлен	

## Файл reply.py	
	
1. Создайте файл reply.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python reply.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. Попробуйте ввести команду /city, должны появиться кнопки со списком городов.
6. Попробуйте нажимать на кнопки - будет печататься имя города.
7. Попробуйте ввести команду /hidden - клавиатура будет удалена.
8. Перейдите в терминал. Нажмите комбинацию кнопок на клавиатуре CTRL + C
9. В терминале должна появиться надпись:
	Бот остановлен	

## Файл media.py	
	
1. Создайте файл media.py
2. Исходный код файла скопируйте из материалов к уроку
3. Запустите бота:
	python media.py
4. В терминале должна появиться надпись:
	Бот запущен...
5. Попробуйте ввести команду /start, в ответ должна прийти картинка.
6. Попробуйте отправить изображение, оно будет сохранено в файл.
7. Попробуйте отправить голосовое, оно будет сохранено в файл.
8. Перейдите в терминал. Нажмите комбинацию кнопок на клавиатуре CTRL + C
9. В терминале должна появиться надпись:
	Бот остановлен		
